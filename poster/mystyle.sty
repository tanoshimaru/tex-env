\ProvidesPackage{mystyle}

% for math
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{bm}
\usepackage{ascmac}
\usepackage{mathtools}
\usepackage{amsfonts}

% for table
\usepackage{booktabs}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{array}  % 幅指定かつ中央揃え

% for figures
\usepackage{graphicx}
\usepackage{tikz}
\usetikzlibrary{arrows.meta, positioning}

% for caption
\setlength{\abovecaptionskip}{-1.5em}
\setbeamertemplate{caption}[numbered]
\setlength{\abovecaptionskip}{0pt}
\setbeamerfont{caption}{size=\small}

% for text color
\usepackage{xcolor}

% for bibliography
\usepackage[backend=biber, style=numeric, sortcites=true, sorting=nyt]{biblatex}
\setbeamertemplate{bibliography item}[text]
\addbibresource{ref.bib}

% for hyperref
\usepackage{hyperref}

% for algorithm
\usepackage[noend]{algorithmic}
\usepackage{algorithm}
\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}

% for cryptocode
\usepackage[keys]{cryptocode}
\createpseudocodeblock{pcb}{center, boxed}{}{}{linenumbering}

% for referencing
\newcommand\figref[1]{\textbf{Figure~\ref{#1}}}
\newcommand\tabref[1]{\textbf{Table~\ref{#1}}}
\newcommand\algref[1]{\textbf{Algorithm~\ref{#1}}}
\newcommand\chapref[1]{~\ref{#1}章}
\newcommand\secref[1]{~\ref{#1}節}

% for spacing
\usepackage{setspace}

% for fonts
\usepackage{fontspec}
\usepackage{luatexja}
\usepackage{luatexja-fontspec}
\setmainfont{Noto Sans CJK JP}
\setsansfont{Noto Sans CJK JP}
\setmainjfont{Noto Sans CJK JP}
\setsansjfont{Noto Sans CJK JP}

% for poster
\usepackage[orientation=portrait, size=a1, scale=1.4]{beamerposter}
\geometry{top=0cm, bottom=2.5cm, left=2.5cm, right=2.5cm}
\renewcommand{\baselinestretch}{1.2}
\setbeamertemplate{navigation symbols}{}

% カラーを定義
\definecolor{themecolor1}{HTML}{26373b}
\definecolor{themecolor2}{HTML}{cc2014}
\definecolor{bgcolor1}{HTML}{d0d3d4}
\definecolor{bgcolor2}{HTML}{e4e6e7}

% テーマカラーを設定
\setbeamercolor{structure}{fg=themecolor1}
\setbeamercolor{section in toc}{fg=themecolor1}
\setbeamercolor{subsection in toc}{fg=themecolor1}
\setbeamercolor{block title}{fg=themecolor1}
\setbeamercolor{block body}{fg=themecolor1}
\setbeamercolor{item}{fg=themecolor1}
\setbeamercolor{itemize item}{fg=themecolor1}
\setbeamercolor{itemize subitem}{fg=themecolor1}
\setbeamercolor{itemize subsubitem}{fg=themecolor1}
\setbeamercolor{enumerate item}{fg=themecolor1}
\setbeamercolor{enumerate subitem}{fg=themecolor1}
\setbeamercolor{enumerate subsubitem}{fg=themecolor1}
\setbeamercolor{caption}{fg=themecolor1}
\setbeamercolor{caption name}{fg=themecolor1}
\setbeamercolor{caption title}{fg=themecolor1}
\setbeamercolor{caption text}{fg=themecolor1}
\setbeamercolor{caption separator}{fg=themecolor1}
\setbeamercolor{caption number}{fg=themecolor1}

% アルゴリズムの文字色を変更
\AtBeginEnvironment{algorithmic}{\color{themecolor1}}

% itemizeのトグルを変更
\setbeamertemplate{itemize item}{$\bullet$}
\setbeamertemplate{itemize subitem}{$\circ$}
\setbeamertemplate{itemize subsubitem}{--}

% headlineのカスタマイズ
\setbeamerfont{headline}{size=\Huge, series=\bfseries}
\setbeamercolor{headline}{fg=white, bg=themecolor1}
\setbeamertemplate{headline}{
  \begin{beamercolorbox}[wd=\paperwidth, dp=0.2em]{headline}
    \begin{center}
      \inserttitle \\
      \vskip 0.4em
      \large\insertinstitute\hspace{0.5em}\insertauthor\hspace{0.5em}（指導教員\supervisor\ 教授）
    \end{center}
  \end{beamercolorbox}
  \vskip -0.6em
}

% footlineのカスタマイズ
\setbeamerfont{footline}{size=\small, series=\bfseries}
\setbeamercolor{footline}{fg=white, bg=themecolor1}
\setbeamertemplate{footline}{
  \begin{beamercolorbox}[wd=\paperwidth, dp=0.5em]{footline}
    \begin{center}
      \conference\hspace{1.0em}|\hspace{1.0em}\insertdate
    \end{center}
  \end{beamercolorbox}
}

% sectionblockを定義
\setbeamerfont{sectionblock title}{size=\LARGE, series=\bfseries}
\setbeamercolor{sectionblock title}{fg=themecolor1}
\setbeamerfont{sectionblock body}{size=\large, series=\mdseries}
\setbeamercolor{sectionblock body}{fg=themecolor1}
\setbeamertemplate{sectionblock begin}{
  \usebeamerfont{sectionblock title}
  \begin{beamercolorbox}[wd=\linewidth]{sectionblock title}
    \begin{center}
      \insertblocktitle
      \vskip -1.0em
      \noindent\textcolor{themecolor1!50}{\hrule height 6pt}
    \end{center}
  \end{beamercolorbox}
  \usebeamerfont{sectionblock body}
  \begin{beamercolorbox}[wd=\linewidth]{sectionblock body}
    % \begin{center}
    }
    \setbeamertemplate{sectionblock end}{
    % \end{center}
  \end{beamercolorbox}
  \vskip 0.5em
}
\newenvironment{sectionblock}[1]{
  \def\insertblocktitle{#1}
  \usebeamertemplate{sectionblock begin}
}{
  \usebeamertemplate{sectionblock end}
}

% blockのカスタマイズ
\setbeamerfont{block title}{series=\bfseries}
\setbeamercolor{block title}{fg=themecolor1, bg=bgcolor1}
\setbeamercolor{block body}{fg=themecolor1, bg=bgcolor2}
\setbeamertemplate{block begin}{
  \vskip0.5em
  \begin{beamercolorbox}[wd=\linewidth, sep=0.5em, left]{block title}
    \usebeamerfont{block title}\insertblocktitle
  \end{beamercolorbox}
  \usebeamerfont{block body}
  \begin{beamercolorbox}[wd=\linewidth, sep=0.5em, left]{block body}
    }
    \setbeamertemplate{block end}{
  \end{beamercolorbox}
  \vskip0.5em
}

% 強調テキスト
\newcommand{\red}[1]{
  \textcolor{themecolor2}{\textbf{#1}}
}

\endinput
