\ProvidesPackage{mystyle}

% for math
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{bm}
\usepackage{ascmac}
\usepackage{mathtools}
\usepackage{amsfonts}

% for table
\usepackage{booktabs}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{array}  % 幅指定かつ中央揃え

% for figures
\usepackage{graphicx}
\usepackage{tikz}
\usetikzlibrary{arrows.meta, positioning}

% % for caption
\setlength{\abovecaptionskip}{0pt}
\setbeamerfont{caption}{size=\footnotesize}

% for text color
\usepackage{xcolor}

% for bibliography
\usepackage[backend=biber, style=numeric, sortcites=true, sorting=nyt]{biblatex}
\setbeamertemplate{bibliography item}[text]
\addbibresource{ref.bib}

% for hyperref
\usepackage{hyperref}

% for algorithm
\usepackage[noend]{algorithmic}
\usepackage{algorithm}
\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}

% for cryptocode
\usepackage[keys]{cryptocode}
\createpseudocodeblock{pcb}{center, boxed}{}{}{linenumbering}

% for referencing
\usepackage{cleveref}
% --- 英語ラベル ---
\crefname{chapter}{\textbf{Chapter}}{\textbf{Chapters}}
\Crefname{chapter}{\textbf{Chapter}}{\textbf{Chapters}}
\crefname{section}{\textbf{Section}}{\textbf{Sections}}
\Crefname{section}{\textbf{Section}}{\textbf{Sections}}
\crefname{subsection}{\textbf{Section}}{\textbf{Sections}}
\Crefname{subsection}{\textbf{Section}}{\textbf{Sections}}
\crefname{figure}{\textbf{Figure}}{\textbf{Figures}}
\Crefname{figure}{\textbf{Figure}}{\textbf{Figures}}
\crefname{table}{\textbf{Table}}{\textbf{Tables}}
\Crefname{table}{\textbf{Table}}{\textbf{Tables}}
\crefname{equation}{\textbf{Equation}}{\textbf{Equations}}
\Crefname{equation}{\textbf{Equation}}{\textbf{Equations}}
\crefname{algorithm}{\textbf{Algorithm}}{\textbf{Algorithms}}
\Crefname{algorithm}{\textbf{Algorithm}}{\textbf{Algorithms}}
\crefname{appendix}{\textbf{Appendix}}{\textbf{Appendices}}
\Crefname{appendix}{\textbf{Appendix}}{\textbf{Appendices}}
% % --- 日本語ラベル ---
% \crefformat{chapter}{\textbf{第#2#1#3章}}
% \Crefformat{chapter}{\textbf{第#2#1#3章}}
% \crefformat{section}{\textbf{#2#1#3節}}
% \Crefformat{section}{\textbf{#2#1#3節}}
% \crefformat{subsection}{\textbf{#2#1#3節}}
% \Crefformat{subsection}{\textbf{#2#1#3節}}
% \crefname{figure}{\textbf{図}}{\textbf{図}}
% \Crefname{figure}{\textbf{図}}{\textbf{図}}
% \crefname{table}{\textbf{表}}{\textbf{表}}
% \Crefname{table}{\textbf{表}}{\textbf{表}}
% \crefname{equation}{\textbf{式}}{\textbf{式}}
% \Crefname{equation}{\textbf{式}}{\textbf{式}}
% \crefname{algorithm}{\textbf{アルゴリズム}}{\textbf{アルゴリズム}}
% \Crefname{algorithm}{\textbf{アルゴリズム}}{\textbf{アルゴリズム}}
% \crefname{appendix}{\textbf{付録}}{\textbf{付録}}
% \Crefname{appendix}{\textbf{付録}}{\textbf{付録}}

% for spacing
\usepackage{setspace}

% for fonts
\usepackage{fontspec}
\usepackage{luatexja}
\usepackage{luatexja-fontspec}
\setmainfont{Noto Sans CJK JP}
\setsansfont{Noto Sans CJK JP}
\setmainjfont{Noto Sans CJK JP}
\setsansjfont{Noto Sans CJK JP}

% metropolis theme
\usetheme{metropolis}
\metroset{
  block=fill, % ブロックに背景をつける
  numbering=fraction % 合計ページ数を表示
}
% \setbeamerfont{frame numbering}{size=\large} % ページ番号のフォントサイズ
\usefonttheme{professionalfonts} % 数式のフォントを変更

% カラーを定義
% \definecolor{themecolor}{HTML}{26373b}
% \definecolor{highlight}{HTML}{e18117}

% テーマのメインカラーを設定
% \setbeamercolor{structure}{fg=themecolor}
% \setbeamercolor{section in toc}{fg=themecolor}
% \setbeamercolor{subsection in toc}{fg=themecolor}
% \setbeamercolor{frametitle}{bg=themecolor}
% \setbeamercolor{title}{fg=themecolor}
% \setbeamercolor{author}{fg=themecolor}
% \setbeamercolor{date}{fg=themecolor}
% \setbeamercolor{institute}{fg=themecolor}
% \setbeamercolor{block title}{fg=themecolor}
% \setbeamercolor{block body}{fg=themecolor}
% \setbeamercolor{item}{fg=themecolor}
% \setbeamercolor{itemize item}{fg=themecolor}
% \setbeamercolor{itemize subitem}{fg=themecolor}
% \setbeamercolor{itemize subsubitem}{fg=themecolor}
% \setbeamercolor{enumerate item}{fg=themecolor}
% \setbeamercolor{enumerate subitem}{fg=themecolor}
% \setbeamercolor{enumerate subsubitem}{fg=themecolor}
% \setbeamercolor{caption}{fg=themecolor}
% \setbeamercolor{caption name}{fg=themecolor}
% \setbeamercolor{caption title}{fg=themecolor}
% \setbeamercolor{caption text}{fg=themecolor}
% \setbeamercolor{caption separator}{fg=themecolor}
% \setbeamercolor{caption number}{fg=themecolor}

% プログレスバーおよびタイトルセパレータのカラーを設定
% \setbeamercolor{progress bar}{fg=highlight}
% \setbeamercolor{title separator}{fg=highlight}
\setlength{\metropolis@titleseparator@linewidth}{1pt}

% blockの見た目を変更
\setbeamertemplate{blocks}[rounded][shadow=false]
% \setbeamerfont{block title}{size=\large}
% \setbeamerfont{block title alerted}{size=\large}
% \setbeamercolor{block title alerted}{fg=mDarkTeal, bg=mLightBrown!45!yellow!45}
% \setbeamercolor{block title example}{fg=magenta!10!black, bg=mLightGreen!70}
% \setbeamercolor{block body alerted}{bg=mLightBrown!25}
% \setbeamercolor{block body example}{bg=mLightGreen!15}

% itemizeのトグルを変更
\setbeamertemplate{itemize item}{$\bullet$}
\setbeamertemplate{itemize subitem}{$\circ$}
\setbeamertemplate{itemize subsubitem}{--}

% tableofcontentsのトグルを変更
\setbeamertemplate{section in toc}{\inserttocsectionnumber. \inserttocsection}
\setbeamertemplate{subsection in toc}{\hspace{1.2em}\inserttocsubsectionnumber. \inserttocsubsection}
\setbeamertemplate{subsubsection in toc}{\hspace{2.4em}\inserttocsubsubsectionnumber. \inserttocsubsubsection}

\AtBeginSection[]{
  \begin{frame}{Outline}
    \tableofcontents[currentsection]
  \end{frame}
}

% 右上に発表番号を追加
\addtobeamertemplate{frametitle}{}{
  \vspace{-1.7em}
  \makebox[\dimexpr\linewidth+8mm][r]{\small{4C2-4}}
  \vspace{0.7em}
}

% 強調テキスト
\definecolor{myred}{HTML}{cc2014}
\newcommand{\red}[1]{
  \textcolor{myred}{\textbf{#1}}
}

\endinput
